The logic is copied from [Zag.js](https://github.com/chakra-ui/zag) and edited for me.
